<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AndroiFix - Servicios y Accesorios</title>
    <link rel="stylesheet" href="style.css" type="text/css" media="all" />
</head>
<body>
    <div class="container">
        <!-- Sidebar -->
        <nav class="sidebar" id="sidebar">
            <h1 class="logo">AndroiFixüöÄ</h1>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="#servicios" class="nav-link">
                        <span class="nav-icon">üõ†Ô∏è</span>
                        Servicios
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#accesorios" class="nav-link">
                        <span class="nav-icon">üì±</span>
                        Accesorios
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#contacto" class="nav-link">
                        <span class="nav-icon">üìç</span>
                        Ubicaci√≥n
                    </a>
                </li>
            </ul>
            <div class="cart-icon" onclick="toggleCart()">
                üõí Carrito
                <span class="cart-count" id="cartCount">0</span>
            </div>
        </nav>

        <!-- Mobile Menu Toggle -->
        <button class="menu-toggle" onclick="toggleSidebar()">‚ò∞</button>

        <!-- Main Content -->
        <main class="main-content" id="mainContent">
            <!-- Services Section -->
            <section id="servicios" class="section">
                <h2 class="section-title">Nuestros Servicios</h2>
                <div class="services-grid">
                    <div class="service-card">
                        <div class="service-image">üíª</div>
                        <h3 class="service-title">Reparaci√≥n de Computadoras</h3>
                        <p class="service-description">Diagn√≥stico y reparaci√≥n completa de equipos de escritorio y laptops. Mantenimiento preventivo y correctivo.</p>
                        <button class="btn" onclick="consultarServicio('Reparaci√≥n de Computadoras')">Consultar Servicio</button>
                    </div>

                    <div class="service-card">
                        <div class="service-image">üì±</div>
                        <h3 class="service-title">Reparaci√≥n de Celulares</h3>
                        <p class="service-description">Especialistas en reparaci√≥n de smartphones. Cambio de pantallas, bater√≠as y componentes internos.</p>
                        <button class="btn" onclick="consultarServicio('Reparaci√≥n de Celulares')">Consultar Servicio</button>
                    </div>

                    <div class="service-card">
                        <div class="service-image">üñ•Ô∏è</div>
                        <h3 class="service-title">Soporte T√©cnico</h3>
                        <p class="service-description">Asistencia t√©cnica remota y presencial. Instalaci√≥n de software y configuraci√≥n de sistemas.</p>
                        <button class="btn" onclick="consultarServicio('Soporte T√©cnico')">Consultar Servicio</button>
                    </div>
                </div>
            </section>

            <!-- Accessories Section -->
            <section id="accesorios" class="section">
                <h2 class="section-title">Accesorios</h2>
                <div class="accessories-grid" id="accessoriesGrid">
                    <!-- Accessories will be populated by JavaScript -->
                </div>
                <div class="show-more-btn">
                    <button class="btn" id="showMoreBtn" onclick="toggleAccessories()">Ver M√°s</button>
                </div>
            </section>

            <!-- Contact Section -->
            <section id="contacto" class="section">
                <h2 class="section-title">Horarios y Ubicaci√≥n</h2>
                <div class="contact-info">
                    <div class="contact-card">
                        <div class="contact-icon">üïí</div>
                        <h3>Horarios de Atenci√≥n</h3>
                        <p>Lunes a Viernes: 10:30 - 20:00</p>
                        <p>S√°bados: 11:00 - 18:00</p>
                        <p>Domingos: Cerrado</p>
                    </div>
                    <div class="contact-card">
                        <div class="contact-icon">üìç</div>
                        <h3>Nuestra Ubicaci√≥n</h3>
                        <p>Av. Principal 123</p>
                        <p>Centro, Ciudad</p>
                        <p>CP: 12345</p>
                        <button class="btn" style="margin-top: 1rem;" onclick="window.open('https://maps.google.com', '_blank')">Ver en Mapa</button>
                    </div>
                </div>
            </section>
        </main>

        <!-- Cart Modal -->
        <div class="cart-modal" id="cartModal">
            <div class="cart-content">
                <div class="cart-header">
                    <h3>Carrito de Compras</h3>
                    <button class="close-cart" onclick="toggleCart()">‚úï</button>
                </div>
                <div id="cartItems"></div>
                <div class="cart-total">
                    Total: $<span id="cartTotal">0</span>
                </div>
                <button class="btn" onclick="showCheckoutForm()" style="width: 100%; margin-bottom: 1rem;">Proceder al Pago</button>
                
                <!-- Checkout Form -->
                <form class="checkout-form" id="checkoutForm">
                    <h4 style="margin-bottom: 1rem;">Datos del Cliente</h4>
                    <div class="form-group">
                        <label>Nombre Completo:</label>
                        <input type="text" id="customerName" required placeholder="Ingrese su nombre completo">
                    </div>
                    <div class="form-group">
                        <label>Tel√©fono:</label>
                        <input type="tel" id="customerPhone" required placeholder="Ingrese su tel√©fono">
                    </div>
                    <div class="form-group">
                        <label>Email:</label>
                        <input type="email" id="customerEmail" required placeholder="Ingrese su email">
                    </div>
                    <div class="form-group">
                        <label>Direcci√≥n:</label>
                        <input type="text" id="customerAddress" required placeholder="Ingrese su direcci√≥n">
                    </div>
                    
                    <h4 style="margin: 1.5rem 0 1rem;">Opciones de Entrega</h4>
                    <div class="shipping-option" onclick="selectShipping('pickup')">
                        <input type="radio" name="shipping" value="pickup" id="pickup" checked>
                        <label for="pickup">Retiro en tienda - Gratis</label>
                    </div>
                    <div class="shipping-option" onclick="selectShipping('delivery')">
                        <input type="radio" name="shipping" value="delivery" id="delivery">
                        <label for="delivery">Env√≠o a domicilio - $2.500</label>
                    </div>
                    
                    <div class="cart-total" style="margin: 1.5rem 0;">
                        Total Final: $<span id="finalTotal">0</span>
                    </div>
                    
                    <button type="submit" class="btn" style="width: 100%;">Confirmar Pedido</button>
                </form>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let cart = [];
        let accessories = [
            { id: 1, name: "Cable HDMI 3 Metros SOUL", price: 5000, offer: "20% OFF", image: "img/Hdmi3.png" },
            { id: 2, name: "Cargador R√°pido", price: 2000, offer: "15% OFF", image: "https://images.unsplash.com/photo-1583394838336-acd977736f90?w=400&h=300&fit=crop&crop=center" },
            { id: 3, name: "Auriculares Bluetooth", price: 5000, offer: "30% OFF", image: "https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=400&h=300&fit=crop&crop=center" },
            { id: 4, name: "Cable USB-C", price: 800, offer: "10% OFF", image: "https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=400&h=300&fit=crop&crop=center" },
            { id: 5, name: "Powerbank 10000mAh", price: 3500, offer: "25% OFF", image: "https://images.unsplash.com/photo-1609592121241-5b9097b05229?w=400&h=300&fit=crop&crop=center" },
            { id: 6, name: "Soporte para Auto", price: 1200, offer: "15% OFF", image: "https://images.unsplash.com/photo-1580273916550-e323d2d894ce?w=400&h=300&fit=crop&crop=center" },
            { id: 7, name: "Protector de Pantalla", price: 600, offer: "5% OFF", image: "https://images.unsplash.com/photo-1512499617640-c2f999943e9f?w=400&h=300&fit=crop&crop=center" },
            { id: 8, name: "Mouse Inal√°mbrico", price: 2500, offer: "20% OFF", image: "https://images.unsplash.com/photo-1527864550417-7fd91fc51a46?w=400&h=300&fit=crop&crop=center" },
            { id: 9, name: "Teclado Mec√°nico", price: 8000, offer: "35% OFF", image: "https://images.unsplash.com/photo-1541140532154-b024d705b90a?w=400&h=300&fit=crop&crop=center" },
            { id: 10, name: "Webcam HD", price: 4500, offer: "25% OFF", image: "https://images.unsplash.com/photo-1587825140708-dfaf72ae4b04?w=400&h=300&fit=crop&crop=center" }
        ];
        let showingAll = false;

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            loadAccessories();
            updateCartDisplay();
            setupEventListeners();
        });

        // Setup event listeners
        function setupEventListeners() {
            // Smooth scrolling for navigation links
            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    const targetSection = document.querySelector(targetId);
                    
                    if (targetSection) {
                        targetSection.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                    
                    // Close sidebar on mobile after clicking
                    if (window.innerWidth <= 768) {
                        toggleSidebar();
                    }
                });
            });

            // Close modal when clicking outside
            document.getElementById('cartModal').addEventListener('click', function(e) {
                if (e.target === this) {
                    toggleCart();
                }
            });

            // Handle window resize
            window.addEventListener('resize', function() {
                if (window.innerWidth > 768) {
                    const sidebar = document.getElementById('sidebar');
                    const mainContent = document.getElementById('mainContent');
                    sidebar.classList.remove('show');
                    mainContent.classList.remove('expanded');
                }
            });

            // Form submission
            document.getElementById('checkoutForm').addEventListener('submit', function(e) {
                e.preventDefault();
                processOrder();
            });
        }

        // Sidebar toggle for mobile
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const mainContent = document.getElementById('mainContent');
            
            sidebar.classList.toggle('show');
            if (sidebar.classList.contains('show')) {
                mainContent.classList.add('expanded');
            } else {
                mainContent.classList.remove('expanded');
            }
        }

        // Load accessories
        function loadAccessories() {
            const grid = document.getElementById('accessoriesGrid');
            const itemsToShow = showingAll ? accessories.length : 6;
            
            grid.innerHTML = '';
            
            for (let i = 0; i < itemsToShow; i++) {
                if (accessories[i]) {
                    const accessory = accessories[i];
                    const card = document.createElement('div');
                    card.className = 'accessory-card';
                    card.innerHTML = `
                        <div class="accessory-image">
                            <img src="${accessory.image}" alt="${accessory.name}" onerror="this.style.display='none'; this.parentNode.innerHTML='${getEmojiForProduct(accessory.name)}'; this.parentNode.style.display='flex'; this.parentNode.style.alignItems='center'; this.parentNode.style.justifyContent='center'; this.parentNode.style.fontSize='3rem';">
                        </div>
                        <div class="accessory-content">
                            <h3 class="accessory-title">${accessory.name}</h3>
                            <div class="accessory-price">${accessory.price}</div>
                            <div class="accessory-offer">${accessory.offer}</div>
                            <div class="accessory-actions">
                                <button class="btn btn-add-cart" onclick="addToCart(${accessory.id})">
                                    Agregar al Carrito
                                </button>
                            </div>
                        </div>
                    `;
                    grid.appendChild(card);
                }
            }
        }

        // Toggle accessories display
        function toggleAccessories() {
            showingAll = !showingAll;
            loadAccessories();
            
            const btn = document.getElementById('showMoreBtn');
            btn.textContent = showingAll ? 'Ver Menos' : 'Ver M√°s';
        }

        // Add to cart
        function addToCart(productId) {
            const product = accessories.find(item => item.id === productId);
            if (!product) return;

            const existingItem = cart.find(item => item.id === productId);
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({
                    ...product,
                    quantity: 1
                });
            }

            updateCartDisplay();
            showAddedFeedback(event.target);
        }

        // Show feedback when item is added
        function showAddedFeedback(button) {
            const originalText = button.textContent;
            button.textContent = '¬°Agregado!';
            button.style.background = 'linear-gradient(135deg, #10ac84, #00d2d3)';
            
            setTimeout(() => {
                button.textContent = originalText;
                button.style.background = '';
            }, 1000);
        }

        // Get emoji fallback for products
        function getEmojiForProduct(productName) {
            const emojiMap = {
                'Funda Premium': 'üì±',
                'Cargador R√°pido': 'üîå',
                'Auriculares Bluetooth': 'üéß',
                'Cable USB-C': 'üîó',
                'Powerbank 10000mAh': 'üîã',
                'Soporte para Auto': 'üöó',
                'Protector de Pantalla': 'üõ°Ô∏è',
                'Mouse Inal√°mbrico': 'üñ±Ô∏è',
                'Teclado Mec√°nico': '‚å®Ô∏è',
                'Webcam HD': 'üìπ'
            };
            return emojiMap[productName] || 'üì¶';
        }

        // Update cart display
        function updateCartDisplay() {
            const cartCount = document.getElementById('cartCount');
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            cartCount.textContent = totalItems;
        }

        // Toggle cart modal
        function toggleCart() {
            const modal = document.getElementById('cartModal');
            const isVisible = modal.style.display === 'flex';
            
            if (isVisible) {
                modal.style.display = 'none';
            } else {
                modal.style.display = 'flex';
                updateCartItems();
            }
        }

        // Update cart items in modal
        function updateCartItems() {
            const cartItems = document.getElementById('cartItems');
            const cartTotal = document.getElementById('cartTotal');
            
            if (cart.length === 0) {
                cartItems.innerHTML = '<p style="text-align: center; color: #888;">Tu carrito est√° vac√≠o</p>';
                cartTotal.textContent = '0';
            } else {
                cartItems.innerHTML = '';
                let total = 0;
                
                cart.forEach(item => {
                    const itemTotal = item.price * item.quantity;
                    total += itemTotal;
                    
                    const cartItem = document.createElement('div');
                    cartItem.className = 'cart-item';
                    cartItem.innerHTML = `
                        <div class="cart-item-info">
                            <h4>${item.name}</h4>
                            <p>${item.price} x ${item.quantity} = ${itemTotal}</p>
                        </div>
                        <div class="cart-item-actions">
                            <button class="quantity-btn" onclick="updateQuantity(${item.id}, -1)">-</button>
                            <span style="margin: 0 0.5rem;">${item.quantity}</span>
                            <button class="quantity-btn" onclick="updateQuantity(${item.id}, 1)">+</button>
                            <button class="quantity-btn" onclick="removeFromCart(${item.id})" style="margin-left: 0.5rem; background: #ff6b6b;">üóëÔ∏è</button>
                        </div>
                    `;
                    cartItems.appendChild(cartItem);
                });
                
                cartTotal.textContent = total;
            }
            
            updateFinalTotal();
        }

        // Update quantity
        function updateQuantity(productId, change) {
            const item = cart.find(item => item.id === productId);
            if (!item) return;

            item.quantity += change;
            
            if (item.quantity <= 0) {
                removeFromCart(productId);
            } else {
                updateCartItems();
                updateCartDisplay();
            }
        }

        // Remove from cart
        function removeFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            updateCartItems();
            updateCartDisplay();
        }

        // Show checkout form
        function showCheckoutForm() {
            if (cart.length === 0) {
                alert('Tu carrito est√° vac√≠o');
                return;
            }
            
            const form = document.getElementById('checkoutForm');
            form.style.display = 'block';
            form.scrollIntoView({ behavior: 'smooth' });
        }

        // Select shipping option
        function selectShipping(option) {
            const pickup = document.getElementById('pickup');
            const delivery = document.getElementById('delivery');
            
            if (option === 'pickup') {
                pickup.checked = true;
                delivery.checked = false;
            } else {
                pickup.checked = false;
                delivery.checked = true;
            }
            
            updateFinalTotal();
        }

        // Update final total
        function updateFinalTotal() {
            const cartTotal = document.getElementById('cartTotal');
            const finalTotal = document.getElementById('finalTotal');
            const delivery = document.getElementById('delivery');
            
            let total = parseInt(cartTotal.textContent) || 0;
            
            if (delivery && delivery.checked) {
                total += 2500;
            }
            
            finalTotal.textContent = total;
        }

        // Process order
        function processOrder() {
            const customerName = document.getElementById('customerName').value;
            const customerPhone = document.getElementById('customerPhone').value;
            const customerEmail = document.getElementById('customerEmail').value;
            const customerAddress = document.getElementById('customerAddress').value;
            const shippingOption = document.querySelector('input[name="shipping"]:checked').value;
            
            // Calculate totals
            const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const shippingCost = shippingOption === 'delivery' ? 2500 : 0;
            const total = subtotal + shippingCost;
            
            // Generate order details
            let orderDetails = `üõí *NUEVO PEDIDO*\n\n`;
            orderDetails += `üë§ *Cliente:* ${customerName}\n`;
            orderDetails += `üìû *Tel√©fono:* ${customerPhone}\n`;
            orderDetails += `üìß *Email:* ${customerEmail}\n`;
            orderDetails += `üìç *Direcci√≥n:* ${customerAddress}\n\n`;
            
            orderDetails += `üõçÔ∏è *Productos:*\n`;
            cart.forEach(item => {
                orderDetails += `‚Ä¢ ${item.name} x${item.quantity} - ${item.price * item.quantity}\n`;
            });
            
            orderDetails += `\nüí∞ *Subtotal:* ${subtotal}\n`;
            orderDetails += `üöö *Env√≠o:* ${shippingOption === 'delivery' ? '$2.500' : 'Gratis (Retiro en tienda)'}\n`;
            orderDetails += `üíµ *TOTAL:* ${total}\n\n`;
            orderDetails += `‚è∞ *Fecha:* ${new Date().toLocaleString('es-AR')}`;
            
            // Send to WhatsApp
            const whatsappNumber = '543794141663';
            const encodedMessage = encodeURIComponent(orderDetails);
            const whatsappUrl = `https://wa.me/${whatsappNumber}?text=${encodedMessage}`;
            
            // Open WhatsApp
            window.open(whatsappUrl, '_blank');
            
            // Clear cart and close modal
            cart = [];
            updateCartDisplay();
            toggleCart();
            
            // Reset form
            document.getElementById('checkoutForm').reset();
            document.getElementById('checkoutForm').style.display = 'none';
            document.getElementById('pickup').checked = true;
            
            // Show success message
            alert('¬°Pedido enviado! Te contactaremos pronto por WhatsApp para confirmar tu compra.');
        }

        // Service consultation
        function consultarServicio(serviceName) {
            const message = `Hola! Me interesa consultar sobre el servicio de: ${serviceName}`;
            const whatsappNumber = '543794141663';
            const encodedMessage = encodeURIComponent(message);
            const whatsappUrl = `https://wa.me/${whatsappNumber}?text=${encodedMessage}`;
            
            window.open(whatsappUrl, '_blank');
        }

        // Scroll animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver(function(entries) {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        // Initialize scroll animations
        setTimeout(() => {
            const cards = document.querySelectorAll('.service-card, .accessory-card, .contact-card');
            cards.forEach(card => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(30px)';
                card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
                observer.observe(card);
            });
        }, 100);
    </script>
</body>
</html>